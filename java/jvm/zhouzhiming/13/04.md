### 小结
>
- 本章介绍了线程安全所涉及的概念和分类、同步实现的方式及虚拟机的底层运作原理，并且介绍了虚拟机为了实现高效并发所采取的一系列锁优化措施。
>
- 许多资深的程序员都说过，**能够写出高伸缩性的并发程序是一门艺术**，而了解并发在系统底层是如何实现的，则是掌握这门艺术的前提条件，也是成长为高级程序员的必备知识之一。
>
### 线程安全
>
- 当多个线程访问一个对象时，如果不用考虑这些线程在运行时环境下的调度和交替执行，也不需要进行额外的同步，或者在调用方进行任何其他的协调操作，调用这个对象的行为都可以获得正确的结果，那这个对象是线程安全的
>
- Java语言中线程安全？？？（不可变？）绝对线程安全？？？（Vector？？？）
- 相对线程安全？？线程兼容？？线程对立？？
- 线程安全实现方法？？？
- 互斥同步？？自旋？？缺点？？悲观
- 非阻塞同步？？？CAS？？乐观？？ABA
- 无同步方案
>
### 锁优化
>
- 自旋锁与适应性自旋？？？？的操作都需要转入内核态中完成？？优缺点？？
- 锁消除？？判定依据？？即时编译？？
>
```
public String concatString（String s1，String s2，String s3）{
  return s1+s2+s3；
} 

public String concatString（String s1，String s2，String s3）{
  StringBuffer sb=new StringBuffer（）；
  sb.append（s1）；
  sb.append（s2）；
  sb.append（s3）；
  return sb.toString（）；
}

```
>
- 锁粗化？？类似上面？？
- 轻量级锁？？对象头？？锁膨胀？？
- 偏向锁？？目的？？
>
- 轻量级锁是在无竞争的情况下使用CAS操作去消除同步使用的互斥量，那偏向锁就是在无竞争的情况下把整个同步都消除掉，连CAS操作都不做了。















